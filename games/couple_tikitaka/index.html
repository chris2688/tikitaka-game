
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>ë„ˆì™€ ë‚˜ì˜ TIKI TAKA</title>
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon" />
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: url('assets/background.jpg') center/cover no-repeat;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
      color: white;
    }
    h1 {
  font-size: clamp(32px, 5vw, 64px);
  margin-bottom: 60px;
}
    #startText {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    #nameForm, #startPrompt, #questionBox, #finalResult {
      display: none;
    }
.button {
  background-color: #88f5e1;
  color: black;
  border: none;
  padding: 12px 24px;
  font-size: 16px; /* âœ… 16px ì´ìƒ: ëª¨ë°”ì¼ ì¤Œ ë°©ì§€ */
  border-radius: 6px;
  cursor: pointer;
  margin: 6px 10px;
  word-break: keep-all;
  white-space: nowrap;
  min-width: 120px;
  max-width: 200px;

  /* âœ… ëª¨ë°”ì¼ í„°ì¹˜ ìµœì í™” */
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%;
}
input {
  padding: 12px;
  font-size: 16px; /* âœ… 16px ì´ìƒìœ¼ë¡œ ìœ ì§€ (ì¤Œ ë°©ì§€ìš©) */
  margin: 10px;
  border-radius: 6px;
  border: none;
  width: 180px;
  box-sizing: border-box;

  /* âœ… ëª¨ë°”ì¼ ì¤Œ ë°©ì§€ */
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%;
}
    #question {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    #result {
      font-size: 32px;
      font-weight: bold;
    }


.button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
    
.small-btn {
  padding: 8px 16px;
  font-size: 14px;
  min-width: 100px;
  max-width: 140px;
}

.question-box {
  background-color: rgba(255, 255, 255, 0.85);
  border-radius: 16px;
  padding: 24px 16px;
  color: #111;
  width: 100%;
  max-width: 960px; /* ğŸ’¡ PCì—ì„œë„ ë„‰ë„‰í•œ ë„ˆë¹„ í—ˆìš© */
  margin: 0 auto 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  min-height: 140px;
  line-height: 1.6;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
  
#background {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background: url('assets/background.jpg') center/cover no-repeat;
  z-index: -1;

  /* ğŸ’¡ ì¤Œ ë°©ì§€ì™€ ë Œë”ë§ ì•ˆì •í™” */
  will-change: transform;
  backface-visibility: hidden;
  -webkit-transform: translateZ(0); /* Safari ë³´ì™„ */
  transform: scale(1) !important;   /* âœ… ì¤Œ ì´ˆê¸°í™” ê°•ì œ ì ìš© */
}

#progressBarContainer {
  width: 100%;
  max-width: 640px;
  height: 10px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 16px;
}

#progressBar {
  height: 100%;
  width: 0%;
  background-color: #88f5e1;
  transition: width 0.3s ease;
}

input,
button,
textarea {
  font-size: 16px; /* ì ˆëŒ€ 16px ì´ìƒ */
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%; /* iOS ëŒ€ì‘ */
}


html, body {
  overscroll-behavior: none;
  touch-action: manipulation;
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  font-size: 16px;
}

input, button, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
  touch-action: manipulation;
}

body {
  transform: scale(1) !important;
  transform-origin: top left;
}

@media (max-width: 480px) {
  .question-box p {
    font-size: clamp(24px, 7vw, 36px);
  }
}

@media (min-width: 768px) {
  .question-box {
    max-width: 640px;
    padding: 24px 32px; /* â† ì—¬ë°± ì¡°ì ˆ */
  }
}

@media (max-width: 480px) {
  .question-summary {
    font-size: 15px;
    padding: 16px;
  }
}

@media (min-width: 768px) {
  .question-summary-box {
    max-width: 640px;
  }
}
    
#customPopup {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

#popupBox {
  background-color: white;
  padding: 24px 32px;
  border-radius: 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  text-align: center;
  max-width: 90%;
  font-size: 18px;
  color: #333;
}

#popupBox button {
  margin-top: 20px;
  padding: 10px 20px;
  font-size: 16px;
  background-color: #88f5e1;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.result-box {
  background-color: rgba(255,255,255,0.7);
  padding: 24px 20px;
  border-radius: 16px;
  margin: 0 auto;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  width: 90%;
  max-width: 100%;
  box-sizing: border-box;
}

@media (min-width: 768px) {
  .result-box {
    max-width: 640px; /* PCì—ì„œ ë„“ì´ ì œí•œ */
    padding: 32px;     /* ì—¬ë°± ì¡°ê¸ˆ ë” ì£¼ê¸° */
  }
}

    
  </style>
</head>
<body>
<div id="background"></div>
  <h1>ë„ˆì™€ ë‚˜ì˜ TIKI TAKA</h1>

  <div id="nameForm">
    <input id="player1Name" placeholder="ë‹¹ì‹ ì˜ ì´ë¦„">
    <input id="player2Name" placeholder="ì˜†ì‚¬ëŒì˜ ì´ë¦„">
    <button class="button" onclick="saveNames()">ì…ë ¥ ì™„ë£Œ</button>
  </div>

  <div id="startPrompt">
    <p id="startText"></p>
    <button class="button" onclick="startGame()">ë‚˜ ë¨¼ì € ì‹œì‘í• ê²Œ!</button>
  </div>

  <div id="questionBox">
    <div id="progressBarContainer">
  <div id="progressBar"></div>
</div>
    <div id="question"></div>
<button class="button choice-button" id="btn1" onclick="">ì„ íƒ 1</button>
<button class="button choice-button" id="btn2" onclick="">ì„ íƒ 2</button>
    <div id="result"></div>
  </div>

  <div id="finalResult"></div>
  <div id="customPopup" style="display: none;">
  <div id="popupBox">
    <p id="popupMessage">ì—¬ê¸°ì— ë©”ì‹œì§€ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤</p>
    <button onclick="closePopup()">í™•ì¸</button>
  </div>
</div>


  <script>
    const questions = [
      "ë¨¼ì € ì‚¬ê³¼í•˜ëŠ” ì‚¬ëŒì€?",
      "ë°ì´íŠ¸ ì¥ì†Œë¥¼ ë”<br>ìì£¼ ì •í•˜ëŠ” ì‚¬ëŒì€?",
      "ì—°ë½ì„ ë” ìì£¼ í•˜ëŠ” ì‚¬ëŒì€?",
      "ë” ì§ˆíˆ¬ê°€ ë§ì€ ì‚¬ëŒì€?",
      "ì ë“¤ê¸° ì „ì— ë§ˆì§€ë§‰ìœ¼ë¡œ<br>ë©”ì‹œì§€ ë³´ë‚´ëŠ” ì‚¬ëŒì€?",
      "ì˜í™”ë¥¼ ë³¼ ë•Œ ë” ë¨¼ì € <br>ìš¸ì»¥í•˜ëŠ” ì‚¬ëŒì€?",
      "ë” ì˜¤ë˜ ì—°ë½ì´ ì•ˆ ë˜ë©´ <br>ì„œìš´í•´í•˜ëŠ” ì‚¬ëŒì€?",
      "ë” ìì£¼ ì›ƒê²Œ <br>ë§Œë“¤ì–´ì£¼ëŠ” ì‚¬ëŒì€?",
      "í•¨ê»˜ ìˆì„ ë•Œ ë” <br>í¸ì•ˆí•¨ì„ ëŠë¼ëŠ” ì‚¬ëŒì€?",
      "ë¨¼ì € 'ì‚¬ë‘í•´'ë¼ê³  <br>ë§í•˜ëŠ” ì‚¬ëŒì€?"
    ];
    const totalQuestions = questions?.length || 10;

    const endings = [
      "ìš°ë¦¬ì˜ í‹°í‚¤íƒ€ì¹´ ë©‹ì¡Œì–´ìš”!<br>ì°°ë–¡ê¶í•© ì»¤í”Œì´ë„¤ìš”!",
      "ì´ ì •ë„ë©´ ìš´ëª… ì•„ë‹ê¹Œìš”? ğŸ’˜",
      "ë‘ ë¶„,<br>í‹°í‚¤íƒ€ì¹´ ì±”í”¼ì–¸ì…ë‹ˆë‹¤!",
      "ì™„ë²½ ê·¸ ìì²´!",
      "ì´ëŸ° ê³µê°, í”ì¹˜ ì•Šì•„ìš”~!"
    ];

 let p1 = "", p2 = "";
let isFirst = true, index = 0;
let firstAnswers = [], secondAnswers = [], score = 0;
let selectedQuestions = [];

    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById("nameForm").style.display = "block";
    });

    function saveNames() {
      p1 = document.getElementById("player1Name").value;
      p2 = document.getElementById("player2Name").value;
      if (!p1 || !p2) return showPopup("ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!");
      document.getElementById("nameForm").style.display = "none";
      document.getElementById("startPrompt").style.display = "block";
      document.getElementById("startText").innerText = `${p1}ë‹˜ì´ ë¨¼ì € TIKI í•˜ì„¸ìš”.`;
    }


    function startExtraRound() {
  alert("ê³„ì† TIKI TAKA ê¸°ëŠ¥ì€ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ì–´ìš”!");
}

function captureResult() {
  alert("ê³µìœ í•˜ê¸° ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!");
}
    
    function startGame() {
  selectedQuestions = [...questions]
    .sort(() => Math.random() - 0.5)
    .slice(0, 5);

  document.getElementById("startPrompt").style.display = "none";
  document.getElementById("questionBox").style.display = "block";
  showQuestion();
}
function showQuestion() {
  const questionEl = document.getElementById("question");
  questionEl.className = "question-box";

  const phaseLabel = isFirst ? "TIKI ì§ˆë¬¸" : "TAKA ì§ˆë¬¸";
  questionEl.innerHTML = `
    <h2 style="margin: 0; font-size: 18px; color: #003344;">
      ${phaseLabel} <span style="font-size: 14px; color: #666;">(${index + 1}/5)</span>
    </h2>
    <p style="
      font-size: clamp(28px, 6.5vw, 42px); 
      font-weight: bold; 
      margin: 8px 0; 
      text-align: center; 
      padding: 0 8px;
    ">${selectedQuestions[index]}</p>
  `;

   const progressPercent = Math.round(((index + (isFirst ? 0 : 5)) / questions.length) * 100);
  document.getElementById("progressBar").style.width = `${progressPercent}%`;

  document.getElementById("result").innerText = "";

  const btn1 = document.getElementById("btn1");
  const btn2 = document.getElementById("btn2");

  btn1.innerText = p1;
  btn2.innerText = p2;
  btn1.onclick = () => choose(p1);
  btn2.onclick = () => choose(p2);
}

   function choose(choice) {
  const btn1 = document.getElementById("btn1");
  const btn2 = document.getElementById("btn2");

  // ğŸ”’ í´ë¦­ í›„ ë²„íŠ¼ ì ê¸ˆ
  btn1.disabled = true;
  btn2.disabled = true;

  if (isFirst) {
    firstAnswers.push(choice);
    index++;
    if (index < 5) {
      showQuestion();
      // ğŸ”“ ë‹¤ì‹œ í™œì„±í™”
      btn1.disabled = false;
      btn2.disabled = false;
    } else {
      isFirst = false;
      index = 0;
      showPopup(`${p2}ë‹˜ì´ TAKA í•  ì°¨ë¡€ì…ë‹ˆë‹¤!`);
      showQuestion();
      btn1.disabled = false;
      btn2.disabled = false;
    }
  } else {
    secondAnswers.push(choice);
    let match = choice === firstAnswers[index];
    if (match) score++;
    const resultBox = document.getElementById("result");
resultBox.innerHTML = `
  <div style="
    display: inline-block;
    background-color: ${match ? 'rgba(136, 245, 225, 0.85)' : 'rgba(255, 120, 120, 0.85)'};
    border: 2px solid white;
    border-radius: 12px;
    padding: 12px 20px;
    font-size: 24px;
    font-weight: bold;
    color: ${match ? '#003344' : '#400000'};
    margin-top: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  ">
    ${match ? "â­• í‹°í‚¤íƒ€ì¹´!" : "âŒ í‹°í‚¤íƒ€ì¹´"}
  </div>
`;
    index++;
    if (index < 5) {
      setTimeout(() => {
        showQuestion();
        // ğŸ”“ ë‹¤ìŒ ì§ˆë¬¸ ë‚˜ì˜¤ë©´ ë²„íŠ¼ ë‹¤ì‹œ í™œì„±í™”
        btn1.disabled = false;
        btn2.disabled = false;
      }, 1500); // 1.5ì´ˆ ëŒ€ê¸°
    } else {
      setTimeout(() => {
document.getElementById("questionBox").style.display = "none";
const ending = endings[Math.floor(Math.random() * endings.length)];
const total = firstAnswers.length;
const percentage = Math.round((score / total) * 100);// ì„±ê³µë¥  ê³„ì‚°

let answerListHTML = "<ul style='list-style:none; padding:0; text-align:left;'>";
for (let i = 0; i < total; i++) {
  const questionText = selectedQuestions[i].replace(/<br>/g, ' ');
  const match = firstAnswers[i] === secondAnswers[i];
  const icon = match ? "â­•" : "âŒ";

  answerListHTML += `
    <li style="margin-bottom: 12px;">
      <strong>Q${i + 1}.</strong> ${questionText}<br>
      Â· ${p1}: ${firstAnswers[i]}<br>
      Â· ${p2}: ${secondAnswers[i]}<br>
      Â· ê²°ê³¼: <strong style="color:${match ? '#00bfa5' : '#e53935'}">${icon} ${match ? 'TIKI TAKA' : 'ë¶ˆì¼ì¹˜'}</strong>
    </li>
  `;
}
answerListHTML += "</ul>";

document.getElementById("finalResult").innerHTML = `
  <div class="result-box">
    <h2 style="font-size: 28px; color: #000; line-height: 1.6;">
      ${p1} â¤ï¸${p2}<br>TIKI TAKA ê²°ê³¼
    </h2>
    <p style="margin-top: 10px; font-size: 20px; color: #000;">
      ì´ ${total}ë¬¸ì œ ì¤‘ <strong>${score}ê°œ</strong> ì¼ì¹˜<br>
      í‹°í‚¤íƒ€ì¹´ ì„±ê³µë¥ :
      <span style="
        display: inline-block;
        font-size: 42px;
        font-weight: 900;
        color: #00bfa5;
        text-shadow:
          -1px -1px 0 #ffffff,
           1px -1px 0 #ffffff,
          -1px  1px 0 #ffffff,
           1px  1px 0 #ffffff;">
        ${percentage}%
      </span>
    </p>

    <p style="font-size: 5vw; font-weight: bold; color: #222; line-height: 1.8; margin-top: 20px;">
      ${ending}
    </p>

    <div style="margin-top: 40px; display: flex; justify-content: center; gap: 8px; flex-wrap: nowrap; flex-direction: row;">
      <button class="button small-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
      <button class="button small-btn" onclick="startExtraRound()">ê³„ì†</button>
      <button class="button small-btn" onclick="captureResult()">ğŸ“¸ ê³µìœ </button>
    </div>
  </div>

  <!-- âœ… ì§ˆë¬¸ ì •ë¦¬ ë°•ìŠ¤ ë¶„ë¦¬ -->
<div style="
  margin: 32px auto 0;
  padding: 24px 20px; /* ê²°ê³¼ ë°•ìŠ¤ì™€ ë™ì¼í•œ padding */
  background-color: rgba(255,255,255,1);
  border-radius: 16px; /* ê²°ê³¼ ë°•ìŠ¤ì™€ ë™ì¼í•œ radius */
  color: #111;
  text-align: left;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* ê²°ê³¼ ë°•ìŠ¤ì™€ ë™ì¼í•œ ê·¸ë¦¼ì */
  font-size: 16px;
  width: 90%;
  max-width: 100%;  /* ê²°ê³¼ ë°•ìŠ¤ì™€ ë™ì¼ */
  box-sizing: border-box; /* ê²°ê³¼ ë°•ìŠ¤ì™€ ë™ì¼ */
">
    <h3 style="color: #000; font-size: 20px; margin-bottom: 16px;">ğŸ“‹ ì§ˆë¬¸ & ë‹µë³€ ì •ë¦¬</h3>
    ${answerListHTML}
  </div>
`;
document.getElementById("finalResult").style.display = "block";
      }, 1500); // â† ì—¬ìœ  ì‹œê°„ ì£¼ê³  ê²°ê³¼ì°½ ë„ìš°ê¸°
    }
  }
 }
     function showPopup(message) {
  document.getElementById("popupMessage").innerText = message;
  document.getElementById("customPopup").style.display = "flex";
}


    
function closePopup() {
  document.getElementById("customPopup").style.display = "none";
}

  </script>
</body>
</html>
